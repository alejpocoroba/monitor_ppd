ataque_armado) %>%
filter(ataque_armado == "bomba molotov") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_homicidios = sum(numero_de_homicidios_total, na.rm = T))
# Total
sum(df_otro_d2$total_homicidios) # bomba molotov: 1
# 3) Homicidios - riña
df_otro_d3 <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_homicidios_total, pertenece_a,
ataque_armado) %>%
filter(ataque_armado == "riña") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_homicidios = sum(numero_de_homicidios_total, na.rm = T))
# Total
sum(df_otro_d3$total_homicidios) # riña: 2
# 4) Homicidios - golpeados
df_otro_d4 <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_homicidios_total, pertenece_a,
ataque_armado) %>%
filter(ataque_armado == "golpeado") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_homicidios = sum(numero_de_homicidios_total, na.rm = T))
# Total
sum(df_otro_d4$total_homicidios) # golpeado: 1
# 5) Homicidios - golpes
df_otro_d5 <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_homicidios_total, pertenece_a,
ataque_armado) %>%
filter(ataque_armado == "golpes") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_homicidios = sum(numero_de_homicidios_total, na.rm = T))
# Total
sum(df_otro_d5$total_homicidios) # golpes: 1
#### Heridxs--------------------------------------------------------------
##### Total de heridos----
# 1) Total heridos - base general
df_heridxs_d1 <- df_juarez1 %>%
select(fecha_de_los_hechos, numero_de_heridos_as_total) %>%
filter(numero_de_heridos_as_total >= "1") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_heridos = sum(numero_de_heridos_as_total, na.rm = T))
view(df_heridxs_d1)
# Total: 138
sum(df_heridxs_d1$total_heridos, na.rm = T)
###### Agresión -----
# 1) Homicidios - agresión: en general
df_heridxs_d2 <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total, pertenece_a,
ataque_armado) %>%
filter(ataque_armado == "agresión") %>%
filter(numero_de_heridos_as_total >= "1") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_heridos = sum(numero_de_heridos_as_total, na.rm = T))
# Total
sum(df_heridxs_d2$total_heridos) # heridos por agresión: 105
mean(df_heridxs_d2$total_homicidios)
###### Enfrentamientos -----
# 1) Homicidios - enfrentamiento: en general
df_heridxs_d3 <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total, pertenece_a,
ataque_armado) %>%
filter(ataque_armado == "enfrentamiento") %>%
filter(numero_de_heridos_as_total >= "1") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_heridos = sum(numero_de_heridos_as_total, na.rm = T))
view(df_heridxs_d3)
# Total
sum(df_heridxs_d3$total_heridos) # heridos en enfrentamiento: 1
###### Otras -----
# 1) Heridos - arma blanca
df_heridxs_d4 <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total, pertenece_a,
ataque_armado) %>%
filter(ataque_armado == "ataque con arma blanca") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_heridos = sum(numero_de_heridos_as_total, na.rm = T))
# Total
sum(df_heridxs_d4$total_heridos) # arma blanca: 0
# 2) Heridos - bomba molotv
df_heridxs_d5 <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total, pertenece_a,
ataque_armado) %>%
filter(ataque_armado == "bomba molotov") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_heridos = sum(numero_de_heridos_as_total, na.rm = T))
# Total
sum(df_heridxs_d5$total_heridos) # bomba molotov: 1
# 3) Homicidios - riña
df_heridxs_d6 <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total, pertenece_a,
ataque_armado) %>%
filter(ataque_armado == "riña") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_heridos = sum(numero_de_heridos_as_total, na.rm = T))
# Total
sum(df_heridxs_d6$total_heridos) # riña: 21
# 4) Homicidios - golpeados
df_heridxs_d7 <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total, pertenece_a,
ataque_armado) %>%
filter(ataque_armado == "golpeado") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_heridos = sum(numero_de_heridos_as_total, na.rm = T))
# Total
sum(df_heridxs_d7$total_heridos) # golpeado: 0
# 5) Homicidios - golpes
df_heridxs_d8 <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total, pertenece_a,
ataque_armado) %>%
filter(ataque_armado == "golpes") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_heridos = sum(numero_de_heridos_as_total, na.rm = T))
# Total
sum(df_heridxs_d8$total_heridos) # golpes: 0
#### Desparecidxs---------------------------------------------------------------
# 1) Desaparecidos: general
df_desaparecidos1 <- df_juarez1 %>%
select(fecha_de_los_hechos,
privacion_de_la_libertad, numero_de_personas_privadas_de_su_libertad) %>%
filter(privacion_de_la_libertad == "TRUE") %>%
filter(numero_de_personas_privadas_de_su_libertad >= "1") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_desaparecidos = sum(numero_de_personas_privadas_de_su_libertad, na.rm = T))
sum(df_desaparecidos1$total_desaparecidos) # desaparecidos: 21
View(df_desaparecidos1)
# 3. Figuras--------------------------------------------------------------------
# Homicidios mensual
fecha <- df_homicidios_d1 %>%
mutate(mes = lubridate::month(fecha_de_los_hechos),
dia = fecha_de_los_hechos,
semana = lubridate::week(fecha_de_los_hechos)) %>%
group_by(mes) %>%
summarize(mes_total = sum(total_homicidios)) %>%
mutate(mes = case_when(
mes == "6"  ~ "Junio",
mes == "7"  ~ "Julio",
mes == "8"  ~ "Agosto",
mes == "9"  ~ "Septiembre",
mes == "10" ~ "Octubre")) %>%
mutate(mes = factor(
mes, levels = c("Junio", "Julio", "Agosto", "Septiembre", "Octubre")))
ggplot(fecha, aes(x = mes, y = mes_total, group = 1)) +
geom_point()+
geom_line() +
ggrepel::geom_text_repel(aes(label = mes_total), hjust = -0.1, color = "black") +
labs(title = "Homicidios violentos en Ciudad Juárez",
subtitle = "Entre junio y octubre de 2022\n",
y = "Número de homicidios\n",
x = "\nMes",
caption = "Fuente: Elaboración propia con base en el Monitor-PPD (2022)")+
guides(color = "none") +
theme_light() +
theme(legend.position = "none")
# Guardar figura
ggsave(file = paste_fig(paste0("homicidio_juarez", ".png")),
width = 10, height = 6)
# Homicidios día
fecha_dia <- df_homicidios_d1 %>%
mutate(mes = lubridate::month(fecha_de_los_hechos),
dia = fecha_de_los_hechos,
semana = lubridate::week(fecha_de_los_hechos))
ggplot(fecha_dia, aes(x = dia, y = total_homicidios, group = 1)) +
geom_point()+
geom_line() +
ggrepel::geom_text_repel(aes(label = total_homicidios), hjust = -0.1, color = "black") +
labs(title = "Homicidios violentos en Ciudad Juárez",
subtitle = "Entre junio y octubre de 2022\n",
y = "Número de homicidios\n",
x = "\n Día",
caption = "Fuente: Elaboración propia con base en el Monitor-PPD (2022)")+
guides(color = "none") +
theme_light()
# Homicidios semana
fecha_semana <- df_homicidios_d1 %>%
mutate(mes = lubridate::month(fecha_de_los_hechos),
dia = fecha_de_los_hechos,
semana = lubridate::week(fecha_de_los_hechos)) %>%
group_by(semana) %>%
summarize(total_semana = sum(total_homicidios))
ggplot(fecha_semana, aes(x = semana, y = total_semana, group = 1)) +
geom_point()+
geom_line() +
ggrepel::geom_text_repel(aes(label = total_semana), hjust = -0.1, color = "black") +
labs(title = "Homicidios violentos en Ciudad Juárez",
subtitle = "Entre junio y octubre de 2022\n",
y = "Número de homicidios\n",
x = "\n Semana",
caption = "Fuente: Elaboración propia con base en el Monitor-PPD (2022)")+
guides(color = "none") +
theme_light()
# Regina control
fecha_semana <- df_homicidios_d1 %>%
mutate(mes = lubridate::month(fecha_de_los_hechos),
dia = fecha_de_los_hechos,
semana = lubridate::week(fecha_de_los_hechos)) %>%
mutate(mes = case_when(
mes == "6"  ~ "Junio",
mes == "7"  ~ "Julio",
mes == "8"  ~ "Agosto",
mes == "9"  ~ "Septiembre",
mes == "10" ~ "Octubre")) %>%
mutate(mes = factor(
mes, levels = c("Junio", "Julio", "Agosto", "Septiembre", "Octubre"))) %>%
mutate(semana_text = paste0("Semana ", semana, "\n(", mes, ")"),
semana_text = forcats::fct_inorder(semana_text)) %>%
group_by(semana, semana_text) %>%
summarize(total_semana = sum(total_homicidios))
ggplot(fecha_semana, aes(x = semana_text, y = total_semana, group = 1)) +
geom_point()+
geom_line() +
ggrepel::geom_text_repel(aes(label = total_semana), hjust = -0.1, color = "black") +
labs(title = "Homicidios violentos en Ciudad Juárez",
subtitle = "Entre junio y octubre de 2022\n",
y = "Número de homicidios\n",
x = "\n Semana",
caption = "Fuente: Elaboración propia con base en el Monitor-PPD (2022)")+
guides(color = "none") +
theme_light() +
theme(axis.text.x = element_text(angle = 90))
fecha <- df_homicidios_d1 %>%
mutate(mes = lubridate::month(fecha_de_los_hechos),
dia = fecha_de_los_hechos,
semana = lubridate::week(fecha_de_los_hechos)) %>%
group_by(mes) %>%
summarize(mes_total = sum(total_homicidios)) %>%
mutate(mes = case_when(
mes == "6"  ~ "Junio",
mes == "7"  ~ "Julio",
mes == "8"  ~ "Agosto",
mes == "9"  ~ "Septiembre",
mes == "10" ~ "Octubre")) %>%
mutate(mes = factor(
mes, levels = c("Junio", "Julio", "Agosto", "Septiembre", "Octubre")))
ggplot(fecha, aes(x = mes, y = mes_total, group = 1)) +
geom_point()+
geom_line() +
ggrepel::geom_text_repel(aes(label = mes_total), hjust = -0.1, color = "black") +
labs(title = "Homicidios violentos en Ciudad Juárez",
subtitle = "Entre junio y octubre de 2022\n",
y = "Número de homicidios\n",
x = "\nMes",
caption = "Fuente: Elaboración propia con base en el Monitor-PPD (2022)")+
guides(color = "none") +
theme_light() +
theme(legend.position = "none")
View(df_juarez1)
sum(df_juarez1$numero_de_homicidios_hombre, na.rm = T)
sum(df_juarez1$numero_de_homicidios_mujer, na.rm = T)
sum(df_juarez1$numero_de_homicidios_total, na.rm = T) # de homicidios: 404
210/199
table(df_juarez1$ataque_armado) # agre 210; enfren: 4; blanca: 7
df_enfren_d1
df_enfren_d1 <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_homicidios_total, pertenece_a,
ataque_armado) %>%
filter(ataque_armado == "enfrentamiento")
View(df_enfren_d1)
View(enfrentamiento)
138-1-21
View(df_juarez1)
colnames(df_juarez1)
sum(df_juarez1$numero_de_heridos_hombres, na.rm = T)
sum(df_juarez1$numero_de_heridas_mujeres, na.rm = T)
df_heridxs_d1 <- df_juarez1 %>%
select(fecha_de_los_hechos, numero_de_heridos_as_total,
numero_de_heridos_hombres, numero_de_heridas_mujeres) %>%
filter(numero_de_heridos_as_total >= "1")
View(df_heridxs_d1)
df_heridxs_juntos <- df_juarez1 %>%
select(fecha_de_los_hechos, numero_de_heridos_as_total,
numero_de_heridos_hombres, numero_de_heridas_mujeres) %>%
filter(ataque_armado == "enfrentamiento") %>%
filter(ataque_armado == "agresión") %>%
filter(numero_de_heridos_as_total >= "1") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_heridos = sum(numero_de_heridos_as_total, na.rm = T))
df_heridxs_juntos <- df_juarez1 %>%
select(fecha_de_los_hechos, numero_de_heridos_as_total,
numero_de_heridos_hombres, numero_de_heridas_mujeres) %>%
filter(ataque_armado == "enfrentamiento") %>%
filter(ataque_armado == "agresión") %>%
filter(numero_de_heridos_as_total >= "1")
df_heridxs_juntos <- df_juarez1 %>%
select(fecha_de_los_hechos, numero_de_heridos_as_total,
numero_de_heridos_hombres, numero_de_heridas_mujeres) %>%
filter(ataque_armado == "enfrentamiento")
df_heridxs_juntos <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres)
View(df_heridxs_juntos)
df_heridxs_juntos <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres,
ataque_armado) %>%
filter(ataque_armado == "enfrentamiento") %>%
filter(ataque_armado == "agresión") %>%
filter(numero_de_heridos_as_total >= "1") %>%
group_by(fecha_de_los_hechos) %>%
summarise(total_heridos = sum(numero_de_heridos_as_total, na.rm = T))
df_heridxs_juntos <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres,
ataque_armado)
View(df_heridxs_juntos)
df_heridxs_juntos <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres,
ataque_armado) %>%
filter(ataque_armado == "enfrentamiento") %>%
filter(ataque_armado == "agresión") %>%
filter(numero_de_heridos_as_total >= "1") %>%
group_by(ataque_armado) %>%
summarise(total_heridos = sum(numero_de_heridos_as_total, na.rm = T),
total_hombr = sum(numero_de_heridos_hombres, na.rm = T),
total_mujer = sum(numero_de_heridas_mujeres, na.rm = T))
df_heridxs_juntos <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres,
ataque_armado) %>%
filter(ataque_armado == "enfrentamiento") %>%
filter(ataque_armado == "agresión") %>%
filter(numero_de_heridos_as_total >= "1") %>%
group_by(ataque_armado)
View(df_heridxs_juntos)
df_heridxs_juntos <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres,
ataque_armado) %>%
filter(ataque_armado == "enfrentamiento") %>%
filter(ataque_armado == "agresión")
View(df_heridxs_juntos)
df_heridxs_juntos <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres,
ataque_armado) %>%
filter(ataque_armado == "enfrentamiento") %>%
filter(ataque_armado == "agresión")
df_heridxs_juntos <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres,
ataque_armado) %>%
filter(ataque_armado == "enfrentamiento") %>%
filter(ataque_armado == "agresión") %>%
filter(numero_de_heridos_as_total >= "1")
df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres,
ataque_armado) %>%
filter(ataque_armado == "enfrentamiento") %>%
filter(ataque_armado == "agresión")
df_heridxs_dos <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres,
ataque_armado) %>%
filter(ataque_armado == "enfrentamiento") %>%
filter(ataque_armado == "agresión") %>%
filter(numero_de_heridos_as_total >= "1")
df_heridxs_dos <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres,
ataque_armado)
View(df_heridxs_dos)
df_heridxs_dos <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres,
ataque_armado) %>%
filter(ataque_armado == !"riña")
df_heridxs_dos <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres,
ataque_armado) %>%
filter(ataque_armado == !riña)
df_heridxs_dos <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres,
ataque_armado) %>%
filter(ataque_armado == "enfrentamiento")
View(df_heridxs_dos)
df_heridxs_dos <- df_juarez1 %>%
select(fecha_de_los_hechos,
numero_de_heridos_as_total,
numero_de_heridos_hombres,
numero_de_heridas_mujeres,
ataque_armado) %>%
# filter(ataque_armado == "enfrentamiento") %>%
filter(ataque_armado == "agresión") %>%
filter(numero_de_heridos_as_total >= "1")
sum(df_heridxs_dos$numero_de_heridos_hombres, na.rm = T)
sum(df_heridxs_dos$numero_de_heridas_mujeres, na.rm = T)
view(df_homicidios_d1)
mean(df_homicidios_d1$total_homicidios)
199/210
View(df_juarez1)
view(df_homicidios_d1)
table(agresion$pertenece_a)
table(agresion$herido_a_pertenece_a)
table(enfrentamiento$pertenece_a)
table(enfrentamiento$herido_a_pertenece_a)
View(df_chi2)
df_juarez1 <- df_chi2 %>%
filter(municipio == "Juárez-08-037") %>%
filter(fecha_de_los_hechos >= "2022-06-01") %>%
filter(fecha_de_los_hechos <= "2022-10-31") %>%
# variables de interés
select(-c("datos_generales":"fecha_de_publicacion",
"enlace", "titulo_de_la_nota":"hechos",
"pais":"municipio",
"grupos_criminales":"grupos_criminales_gc",
"actividades_delictivas": "muertos",
"victimas", "detenidos_as", "ataque_armado_t",
"otras_actividades_delictivas", "presencia_internacional",
"presencia_no_violenta_t", "presencia_no_violenta",
"instituciones_de_seguridad": "fuerzas_armadas",
"fuerzas_de_seguridad", "politica_de_seguridad_y_de_drogas",
"politica_de_drogas"))
openxlsx::write.xlsx(df_juarez1,
file = paste_out("juarez.xlsx"), overwrite = T)
df_juarez1 <- df_chi2 %>%
filter(municipio == "Juárez-08-037") %>%
filter(fecha_de_los_hechos >= "2022-06-01") %>%
filter(fecha_de_los_hechos <= "2022-10-31") %>%
# variables de interés
select(-c("datos_generales":"fecha_de_publicacion",
"enlace", "nombre_de_la_fuente":"hechos",
"pais":"municipio",
"grupos_criminales":"grupos_criminales_gc",
"actividades_delictivas": "muertos",
"victimas", "detenidos_as", "ataque_armado_t",
"otras_actividades_delictivas", "presencia_internacional",
"presencia_no_violenta_t", "presencia_no_violenta",
"instituciones_de_seguridad": "fuerzas_armadas",
"fuerzas_de_seguridad", "politica_de_seguridad_y_de_drogas",
"politica_de_drogas"))
openxlsx::write.xlsx(df_juarez1,
file = paste_out("juarez.xlsx"), overwrite = T)
df_juarez1 <- df_chi2 %>%
filter(municipio == "Juárez-08-037") %>%
filter(fecha_de_los_hechos >= "2022-06-01") %>%
filter(fecha_de_los_hechos <= "2022-10-31") %>%
# variables de interés
select(-c("datos_generales":"fecha_de_publicacion",
"nombre_de_la_fuente":"hechos",
"pais":"municipio",
"grupos_criminales":"grupos_criminales_gc",
"actividades_delictivas": "muertos",
"victimas", "detenidos_as", "ataque_armado_t",
"otras_actividades_delictivas", "presencia_internacional",
"presencia_no_violenta_t", "presencia_no_violenta",
"instituciones_de_seguridad": "fuerzas_armadas",
"fuerzas_de_seguridad", "politica_de_seguridad_y_de_drogas",
"politica_de_drogas"))
# Guardar base de Juárez
openxlsx::write.xlsx(df_juarez1,
file = paste_out("juarez.xlsx"), overwrite = T)
chi_seg <- df_chi2 %>%
filter(fecha_de_los_hechos >= "2022-06-01") %>%
filter(fecha_de_los_hechos <= "2022-10-31") %>%
select(enlace, politica_de_seguridad) %>%
filter(politica_de_seguridad == "TRUE")
View(chi_seg)
chi_seg <- df_chi2 %>%
filter(fecha_de_los_hechos >= "2022-06-01") %>%
filter(fecha_de_los_hechos <= "2022-10-31") %>%
select(enlace, titulo_de_la_nota, politica_de_seguridad) %>%
filter(politica_de_seguridad == "TRUE")
chi_seg <- df_chi2 %>%
filter(fecha_de_los_hechos >= "2022-06-01") %>%
filter(fecha_de_los_hechos <= "2022-10-31") %>%
select(enlace, titulo_de_la_nota, politica_de_seguridad, municipio) %>%
filter(politica_de_seguridad == "TRUE")
view(df_cuerpos_d1)
View(df_juarez1)
view(df_cuerpos_d1)
