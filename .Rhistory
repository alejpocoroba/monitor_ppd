annotate("text", x = v_padres + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Asesinato de\nsacerdotes",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# Jueves negro
geom_vline(xintercept = v_jueves, linetype = "dashed") +
annotate("text", x = v_jueves + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Jueves negro\nen Ciudad Juárez",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# geom_vline(xintercept = as.Date("2022-07-15"), linetype = "dashed") +
# Etiquetas
labs(
title    = "Homicidios ocurridos en Chihuahua",
subtitle = "Por día\n",
x = "",
y = "Número total de eventos\n",
color = "",
caption = v_caption
) +
# Escalas
# scale_y_continuous(breaks = seq(0, 15, 2)) +
# Tema
tema +
theme(legend.position = "none")
# ---- Guardar figura
ggsave(file = paste_fig("chihuahua.png"),
width = 8, height = 6)
# ---- Visualización
ggplot(
# Datos
df_data,
# Coordenadas
aes(x = fecha, y = total, group = evento, color = evento)) +
# facet_wrap(~evento, scale = "free_y", ncol = 1) +
# Geoms
geom_line() +
geom_point() +
geom_vline(xintercept = v_padres, linetype = "dashed") +
# Asesinato de sacerdotes
annotate("text", x = v_padres + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Asesinato de\nsacerdotes",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# Jueves negro
geom_vline(xintercept = v_jueves, linetype = "dashed") +
annotate("text", x = v_jueves + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Jueves negro\nen Ciudad Juárez",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# geom_vline(xintercept = as.Date("2022-07-15"), linetype = "dashed") +
# Etiquetas
labs(
title    = "Homicidios ocurridos en Chihuahua",
subtitle = "Por día\n",
x = "",
y = "Número total de eventos\n",
color = "",
caption = v_caption
) +
# Escalas
# scale_y_continuous(breaks = seq(0, 15, 2)) +
scale_x_date(date_breaks = "1 day") +
# Tema
tema +
theme(legend.position = "none")
class(df_data$fecha)
class(as.Date(df_data$fecha))
# ---- Filtrar datos
df_data <- df_limpio %>% filter(str_detect(estado, "Chihuahua"),
!str_detect(evento, "privadas"),
!str_detect(evento, "detenidas"),
!str_detect(evento, "heridas"),
fecha >= as.Date("2022-06-01")) %>%
mutate(fecha = as.Date(fecha))
# ---- Visualización
ggplot(
# Datos
df_data,
# Coordenadas
aes(x = fecha, y = total, group = evento, color = evento)) +
# facet_wrap(~evento, scale = "free_y", ncol = 1) +
# Geoms
geom_line() +
geom_point() +
geom_vline(xintercept = v_padres, linetype = "dashed") +
# Asesinato de sacerdotes
annotate("text", x = v_padres + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Asesinato de\nsacerdotes",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# Jueves negro
geom_vline(xintercept = v_jueves, linetype = "dashed") +
annotate("text", x = v_jueves + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Jueves negro\nen Ciudad Juárez",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# geom_vline(xintercept = as.Date("2022-07-15"), linetype = "dashed") +
# Etiquetas
labs(
title    = "Homicidios ocurridos en Chihuahua",
subtitle = "Por día\n",
x = "",
y = "Número total de eventos\n",
color = "",
caption = v_caption
) +
# Escalas
# scale_y_continuous(breaks = seq(0, 15, 2)) +
scale_x_date(date_labels="%Y", date_breaks = "1 day") +
# Tema
tema +
theme(legend.position = "none")
# ---- Visualización
ggplot(
# Datos
df_data,
# Coordenadas
aes(x = fecha, y = total, group = evento, color = evento)) +
# facet_wrap(~evento, scale = "free_y", ncol = 1) +
# Geoms
geom_line() +
geom_point() +
geom_vline(xintercept = v_padres, linetype = "dashed") +
# Asesinato de sacerdotes
annotate("text", x = v_padres + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Asesinato de\nsacerdotes",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# Jueves negro
geom_vline(xintercept = v_jueves, linetype = "dashed") +
annotate("text", x = v_jueves + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Jueves negro\nen Ciudad Juárez",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# geom_vline(xintercept = as.Date("2022-07-15"), linetype = "dashed") +
# Etiquetas
labs(
title    = "Homicidios ocurridos en Chihuahua",
subtitle = "Por día\n",
x = "",
y = "Número total de eventos\n",
color = "",
caption = v_caption
) +
# Escalas
# scale_y_continuous(breaks = seq(0, 15, 2)) +
scale_x_date(date_labels="%d", date_breaks = "1 day") +
# Tema
tema +
theme(legend.position = "none")
class(df_data$fecha)
# ---- Filtrar datos
df_data <- df_limpio %>% filter(str_detect(estado, "Chihuahua"),
!str_detect(evento, "privadas"),
!str_detect(evento, "detenidas"),
!str_detect(evento, "heridas"),
fecha >= as.Date("2022-06-01")) %>%
mutate(fecha = as.Date(fecha))
# ---- Visualización
ggplot(
# Datos
df_data,
# Coordenadas
aes(x = fecha, y = total, group = evento, color = evento)) +
# facet_wrap(~evento, scale = "free_y", ncol = 1) +
# Geoms
geom_line() +
geom_point() +
geom_vline(xintercept = v_padres, linetype = "dashed") +
# Asesinato de sacerdotes
annotate("text", x = v_padres + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Asesinato de\nsacerdotes",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# Jueves negro
geom_vline(xintercept = v_jueves, linetype = "dashed") +
annotate("text", x = v_jueves + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Jueves negro\nen Ciudad Juárez",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# geom_vline(xintercept = as.Date("2022-07-15"), linetype = "dashed") +
# Etiquetas
labs(
title    = "Homicidios ocurridos en Chihuahua",
subtitle = "Por día\n",
x = "",
y = "Número total de eventos\n",
color = "",
caption = v_caption
) +
# Escalas
# scale_y_continuous(breaks = seq(0, 15, 2)) +
scale_x_date(date_labels="%d", date_breaks = "1 day") +
# Tema
tema +
theme(legend.position = "none")
# ---- Visualización
ggplot(
# Datos
df_data,
# Coordenadas
aes(x = fecha, y = total, group = evento, color = evento)) +
# facet_wrap(~evento, scale = "free_y", ncol = 1) +
# Geoms
geom_line() +
geom_point() +
geom_vline(xintercept = v_padres, linetype = "dashed") +
# Asesinato de sacerdotes
annotate("text", x = v_padres + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Asesinato de\nsacerdotes",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# Jueves negro
geom_vline(xintercept = v_jueves, linetype = "dashed") +
annotate("text", x = v_jueves + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Jueves negro\nen Ciudad Juárez",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# geom_vline(xintercept = as.Date("2022-07-15"), linetype = "dashed") +
# Etiquetas
labs(
title    = "Homicidios ocurridos en Chihuahua",
subtitle = "Por día\n",
x = "",
y = "Número total de eventos\n",
color = "",
caption = v_caption
) +
# Escalas
# scale_y_continuous(breaks = seq(0, 15, 2)) +
scale_x_date(date_labels="%d") +
# Tema
tema +
theme(legend.position = "none")
# ---- Visualización
ggplot(
# Datos
df_data,
# Coordenadas
aes(x = fecha, y = total, group = evento, color = evento)) +
# facet_wrap(~evento, scale = "free_y", ncol = 1) +
# Geoms
geom_line() +
geom_point() +
geom_vline(xintercept = v_padres, linetype = "dashed") +
# Asesinato de sacerdotes
annotate("text", x = v_padres + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Asesinato de\nsacerdotes",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# Jueves negro
geom_vline(xintercept = v_jueves, linetype = "dashed") +
annotate("text", x = v_jueves + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Jueves negro\nen Ciudad Juárez",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# geom_vline(xintercept = as.Date("2022-07-15"), linetype = "dashed") +
# Etiquetas
labs(
title    = "Homicidios ocurridos en Chihuahua",
subtitle = "Por día\n",
x = "",
y = "Número total de eventos\n",
color = "",
caption = v_caption
) +
# Escalas
# scale_y_continuous(breaks = seq(0, 15, 2)) +
scale_x_date(date_breaks = "1 day") +
# Tema
tema +
theme(legend.position = "none")
# ---- Visualización
ggplot(
# Datos
df_data,
# Coordenadas
aes(x = fecha, y = total, group = evento, color = evento)) +
# facet_wrap(~evento, scale = "free_y", ncol = 1) +
# Geoms
geom_line() +
geom_point() +
geom_vline(xintercept = v_padres, linetype = "dashed") +
# Asesinato de sacerdotes
annotate("text", x = v_padres + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Asesinato de\nsacerdotes",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# Jueves negro
geom_vline(xintercept = v_jueves, linetype = "dashed") +
annotate("text", x = v_jueves + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Jueves negro\nen Ciudad Juárez",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# geom_vline(xintercept = as.Date("2022-07-15"), linetype = "dashed") +
# Etiquetas
labs(
title    = "Homicidios ocurridos en Chihuahua",
subtitle = "Por día\n",
x = "",
y = "Número total de eventos\n",
color = "",
caption = v_caption
) +
# Escalas
# scale_y_continuous(breaks = seq(0, 15, 2)) +
# scale_x_date(date_breaks = "1 day") +
# Tema
tema +
theme(legend.position = "none")
# ---- Filtrar datos
df_data <- df_limpio %>% filter(str_detect(estado, "Chihuahua"),
!str_detect(evento, "privadas"),
!str_detect(evento, "detenidas"),
!str_detect(evento, "heridas"),
fecha >= as.Date("2022-06-01")) %>%
mutate(fecha = as.Date(fecha))
# ---- Visualización
ggplot(
# Datos
df_data,
# Coordenadas
aes(x = fecha, y = total, group = evento, color = evento)) +
# facet_wrap(~evento, scale = "free_y", ncol = 1) +
# Geoms
geom_line() +
geom_point() +
geom_vline(xintercept = v_padres, linetype = "dashed") +
# Asesinato de sacerdotes
annotate("text", x = v_padres + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Asesinato de\nsacerdotes",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# Jueves negro
geom_vline(xintercept = v_jueves, linetype = "dashed") +
annotate("text", x = v_jueves + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Jueves negro\nen Ciudad Juárez",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# geom_vline(xintercept = as.Date("2022-07-15"), linetype = "dashed") +
# Etiquetas
labs(
title    = "Homicidios ocurridos en Chihuahua",
subtitle = "Por día\n",
x = "",
y = "Número total de eventos\n",
color = "",
caption = v_caption
) +
# Escalas
# scale_y_continuous(breaks = seq(0, 15, 2)) +
# scale_x_date(date_breaks = "1 day") +
# Tema
tema +
theme(legend.position = "none")
ggplot(
# Datos
df_data,
# Coordenadas
aes(x = fecha, y = total, group = evento, color = evento)) +
# facet_wrap(~evento, scale = "free_y", ncol = 1) +
# Geoms
geom_line() +
geom_point()
# ---- Visualización
ggplot(
# Datos
df_data,
# Coordenadas
aes(x = fecha, y = total, group = evento, color = evento)) +
# facet_wrap(~evento, scale = "free_y", ncol = 1) +
# Geoms
geom_line() +
geom_point() +
geom_vline(xintercept = v_padres, linetype = "dashed") +
# Asesinato de sacerdotes
annotate("text", x = v_padres + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Asesinato de\nsacerdotes",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# Jueves negro
geom_vline(xintercept = v_jueves, linetype = "dashed") +
annotate("text", x = v_jueves + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Jueves negro\nen Ciudad Juárez",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0)
# ---- Visualización
ggplot(
# Datos
df_data,
# Coordenadas
aes(x = fecha, y = total, group = evento, color = evento)) +
# facet_wrap(~evento, scale = "free_y", ncol = 1) +
# Geoms
geom_line() +
geom_point() +
# # Asesinato de sacerdotes
# geom_vline(xintercept = v_padres, linetype = "dashed") +
# annotate("text", x = v_padres + 100000, y = 15,
#          # label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
#          label = "Asesinato de\nsacerdotes",
#          size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# # Jueves negro
# geom_vline(xintercept = v_jueves, linetype = "dashed") +
# annotate("text", x = v_jueves + 100000, y = 15,
#          # label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
#          label = "Jueves negro\nen Ciudad Juárez",
#          size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# geom_vline(xintercept = as.Date("2022-07-15"), linetype = "dashed") +
# Etiquetas
labs(
title    = "Homicidios ocurridos en Chihuahua",
subtitle = "Por día\n",
x = "",
y = "Número total de eventos\n",
color = "",
caption = v_caption
) +
# Escalas
# scale_y_continuous(breaks = seq(0, 15, 2)) +
scale_x_date(date_labels="%d", date_breaks = "1 day") +
# Tema
tema +
theme(legend.position = "none")
# ---- Filtrar datos
df_data <- df_limpio %>% filter(str_detect(estado, "Chihuahua"),
!str_detect(evento, "privadas"),
!str_detect(evento, "detenidas"),
!str_detect(evento, "heridas"),
fecha >= as.Date("2022-06-01")) %>%
# mutate(fecha = as.Date(fecha)) %>%
glimpse()
# ---- Visualización
ggplot(
# Datos
df_data,
# Coordenadas
aes(x = fecha, y = total, group = evento, color = evento)) +
# facet_wrap(~evento, scale = "free_y", ncol = 1) +
# Geoms
geom_line() +
geom_point() +
# Asesinato de sacerdotes
geom_vline(xintercept = v_padres, linetype = "dashed") +
annotate("text", x = v_padres + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Asesinato de\nsacerdotes",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# Jueves negro
geom_vline(xintercept = v_jueves, linetype = "dashed") +
annotate("text", x = v_jueves + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Jueves negro\nen Ciudad Juárez",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
geom_vline(xintercept = as.Date("2022-07-15"), linetype = "dashed") +
# Etiquetas
labs(
title    = "Homicidios ocurridos en Chihuahua",
subtitle = "Por día\n",
x = "",
y = "Número total de eventos\n",
color = "",
caption = v_caption
) +
# Escalas
# scale_y_continuous(breaks = seq(0, 15, 2)) +
scale_x_date(date_labels="%d", date_breaks = "1 day") +
# Tema
tema +
theme(legend.position = "none")
# ---- Visualización
ggplot(
# Datos
df_data,
# Coordenadas
aes(x = fecha, y = total, group = evento, color = evento)) +
# facet_wrap(~evento, scale = "free_y", ncol = 1) +
# Geoms
geom_line() +
geom_point() +
# Asesinato de sacerdotes
geom_vline(xintercept = v_padres, linetype = "dashed") +
annotate("text", x = v_padres + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Asesinato de\nsacerdotes",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
# Jueves negro
geom_vline(xintercept = v_jueves, linetype = "dashed") +
annotate("text", x = v_jueves + 100000, y = 15,
# label = if_else(df_data$evento == "Homicidios", "Arresto de Caro Quintero", NA_character_),
label = "Jueves negro\nen Ciudad Juárez",
size = 3, family = "Fira Sans", color = "#666666", hjust = 0) +
geom_vline(xintercept = as.Date("2022-07-15"), linetype = "dashed") +
# Etiquetas
labs(
title    = "Homicidios ocurridos en Chihuahua",
subtitle = "Por día\n",
x = "",
y = "Número total de eventos\n",
color = "",
caption = v_caption
) +
# Escalas
# scale_y_continuous(breaks = seq(0, 15, 2)) +
# scale_x_date(date_labels="%d", date_breaks = "1 day") +
# Tema
tema +
theme(legend.position = "none")
# ---- Guardar figura
ggsave(file = paste_fig("chihuahua.png"),
width = 8, height = 6)
